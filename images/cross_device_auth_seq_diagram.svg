<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1621px" preserveAspectRatio="none" style="width:1399px;height:1621px;background:#FFFFFF;" version="1.1" viewBox="0 0 1399 1621" width="1399px" zoomAndPan="magnify"><defs/><g><rect fill="#ADD8E6" height="1609.6406" style="stroke:#181818;stroke-width:0.5;" width="471.6177" x="194.3389" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="106.5645" x="376.8655" y="18.0669">User's Devices</text><rect fill="#FFFFFF" height="51.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="18.9551" y="91.2969"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="18.9551" y="935.4219"/><rect fill="#FFFFFF" height="1082.5859" style="stroke:#181818;stroke-width:1.0;" width="10" x="254.4897" y="444.7578"/><rect fill="#FFFFFF" height="332.3281" style="stroke:#181818;stroke-width:1.0;" width="10" x="611.9419" y="112.4297"/><rect fill="#FFFFFF" height="244.0625" style="stroke:#181818;stroke-width:1.0;" width="10" x="1053.9868" y="171.5625"/><rect fill="#FFFFFF" height="122.2031" style="stroke:#181818;stroke-width:1.0;" width="10" x="1053.9868" y="657.6875"/><rect fill="#FFFFFF" height="357.8594" style="stroke:#181818;stroke-width:1.0;" width="10" x="1053.9868" y="1008.8203"/><rect fill="none" height="59.2656" style="stroke:#000000;stroke-width:1.5;" width="210.6118" x="188.3389" y="459.7578"/><rect fill="none" height="132.3359" style="stroke:#000000;stroke-width:1.5;" width="1193.8037" x="188.3389" y="619.4219"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="23" x2="23" y1="81.2969" y2="1536.3438"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="259.3389" x2="259.3389" y1="81.2969" y2="1536.3438"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="616.9272" x2="616.9272" y1="81.2969" y2="1536.3438"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1058.4033" x2="1058.4033" y1="81.2969" y2="1536.3438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.9102" x="5" y="77.9951">User</text><ellipse cx="23.9551" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M23.9551,21.5 L23.9551,48.5 M10.9551,29.5 L36.9551,29.5 M23.9551,48.5 L10.9551,63.5 M23.9551,48.5 L36.9551,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.9102" x="5" y="1548.3389">User</text><ellipse cx="23.9551" cy="1560.1406" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M23.9551,1568.1406 L23.9551,1595.1406 M10.9551,1576.1406 L36.9551,1576.1406 M23.9551,1595.1406 L10.9551,1610.1406 M23.9551,1595.1406 L36.9551,1610.1406 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="122.3018" x="198.3389" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108.3018" x="205.3389" y="69.9951">Wallet Instance</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="122.3018" x="198.3389" y="1535.3438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108.3018" x="205.3389" y="1555.3389">Wallet Instance</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="90.0293" x="571.9272" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76.0293" x="578.9272" y="69.9951">user-agent</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="90.0293" x="571.9272" y="1535.3438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76.0293" x="578.9272" y="1555.3389">user-agent</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="107.167" x="1005.4033" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93.167" x="1012.4033" y="69.9951">Relying Party</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="107.167" x="1005.4033" y="1535.3438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93.167" x="1012.4033" y="1555.3389">Relying Party</text><rect fill="#FFFFFF" height="51.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="18.9551" y="91.2969"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="18.9551" y="935.4219"/><rect fill="#FFFFFF" height="1082.5859" style="stroke:#181818;stroke-width:1.0;" width="10" x="254.4897" y="444.7578"/><rect fill="#FFFFFF" height="332.3281" style="stroke:#181818;stroke-width:1.0;" width="10" x="611.9419" y="112.4297"/><rect fill="#FFFFFF" height="244.0625" style="stroke:#181818;stroke-width:1.0;" width="10" x="1053.9868" y="171.5625"/><rect fill="#FFFFFF" height="122.2031" style="stroke:#181818;stroke-width:1.0;" width="10" x="1053.9868" y="657.6875"/><rect fill="#FFFFFF" height="357.8594" style="stroke:#181818;stroke-width:1.0;" width="10" x="1053.9868" y="1008.8203"/><polygon fill="#181818" points="599.9419,108.4297,609.9419,112.4297,599.9419,116.4297,603.9419,112.4297" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="28.9551" x2="605.9419" y1="112.4297" y2="112.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="35.9551" y="107.3638">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154.0449" x="49.0005" y="107.3638">Web Service navigation</text><polygon fill="#181818" points="1041.9868,167.5625,1051.9868,171.5625,1041.9868,175.5625,1045.9868,171.5625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="621.9419" x2="1047.9868" y1="171.5625" y2="171.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="628.9419" y="166.4966">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184.8691" x="641.9873" y="166.4966">Request Protected Resource</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1392.1426" x="0" y="200.1289"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1392.1426" y1="200.1289" y2="200.1289"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1392.1426" y1="203.1289" y2="203.1289"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="161.5703" x="615.2861" y="189.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="143.0444" x="621.2861" y="205.6294">Presentation Phase</text><line style="stroke:#181818;stroke-width:1.0;" x1="1063.9868" x2="1105.9868" y1="258.9609" y2="258.9609"/><line style="stroke:#181818;stroke-width:1.0;" x1="1105.9868" x2="1105.9868" y1="258.9609" y2="271.9609"/><line style="stroke:#181818;stroke-width:1.0;" x1="1064.9868" x2="1105.9868" y1="271.9609" y2="271.9609"/><polygon fill="#181818" points="1074.9868,267.9609,1064.9868,271.9609,1074.9868,275.9609,1070.9868,271.9609" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="1070.9868" y="246.3286">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55.5801" x="1084.0322" y="238.7622">Create a</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="37.7559" x="1143.7446" y="238.7622">state</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35.5088" x="1185.6328" y="238.7622">value</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179.1753" x="1084.0322" y="253.895">bound to user-agent cookie</text><line style="stroke:#181818;stroke-width:1.0;" x1="1063.9868" x2="1105.9868" y1="301.0938" y2="301.0938"/><line style="stroke:#181818;stroke-width:1.0;" x1="1105.9868" x2="1105.9868" y1="301.0938" y2="314.0938"/><line style="stroke:#181818;stroke-width:1.0;" x1="1064.9868" x2="1105.9868" y1="314.0938" y2="314.0938"/><polygon fill="#181818" points="1074.9868,310.0938,1064.9868,314.0938,1074.9868,318.0938,1070.9868,314.0938" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="1070.9868" y="296.0278">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181.9429" x="1084.0322" y="296.0278">Create request_uri resource</text><line style="stroke:#181818;stroke-width:1.0;" x1="1063.9868" x2="1105.9868" y1="358.3594" y2="358.3594"/><line style="stroke:#181818;stroke-width:1.0;" x1="1105.9868" x2="1105.9868" y1="358.3594" y2="371.3594"/><line style="stroke:#181818;stroke-width:1.0;" x1="1064.9868" x2="1105.9868" y1="371.3594" y2="371.3594"/><polygon fill="#181818" points="1074.9868,367.3594,1064.9868,371.3594,1074.9868,375.3594,1070.9868,371.3594" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="1070.9868" y="345.7271">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155.2446" x="1084.0322" y="338.1606">Inspect user-agent type</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="247.5269" x="1084.0322" y="353.2935">to detect cross device or same device</text><polygon fill="#181818" points="632.9419,411.625,622.9419,415.625,632.9419,419.625,628.9419,415.625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="626.9419" x2="1057.9868" y1="415.625" y2="415.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="638.9419" y="402.9927">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="351.0508" x="651.9873" y="395.4263">html page with QRCode OR href containig the url with</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="325.438" x="651.9873" y="410.5591">client_id, request_uri, state, [request_uri_method]</text><polygon fill="#181818" points="34.9551,440.7578,24.9551,444.7578,34.9551,448.7578,30.9551,444.7578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="28.9551" x2="615.9419" y1="444.7578" y2="444.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="40.9551" y="439.6919">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="307.2012" x="54.0005" y="439.6919">Show the QRCode page or click the href button</text><path d="M188.3389,459.7578 L362.9263,459.7578 L362.9263,466.8906 L352.9263,476.8906 L188.3389,476.8906 L188.3389,459.7578 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="59.2656" style="stroke:#000000;stroke-width:1.5;" width="210.6118" x="188.3389" y="459.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="129.5874" x="203.3389" y="472.8247">Cross Device only</text><line style="stroke:#181818;stroke-width:1.0;" x1="264.4897" x2="306.4897" y1="498.0234" y2="498.0234"/><line style="stroke:#181818;stroke-width:1.0;" x1="306.4897" x2="306.4897" y1="498.0234" y2="511.0234"/><line style="stroke:#181818;stroke-width:1.0;" x1="265.4897" x2="306.4897" y1="511.0234" y2="511.0234"/><polygon fill="#181818" points="275.4897,507.0234,265.4897,511.0234,275.4897,515.0234,271.4897,511.0234" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="271.4897" y="492.9575">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92.4155" x="284.5352" y="492.9575">Scan QR Code</text><polygon fill="#181818" points="242.4897,558.2891,252.4897,562.2891,242.4897,566.2891,246.4897,562.2891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="23.9551" x2="248.4897" y1="562.2891" y2="562.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="30.9551" y="549.6567">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193.4893" x="44.0005" y="542.0903">Open the Wallet Instance app</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161.4146" x="44.0005" y="557.2231">local user authentication</text><line style="stroke:#181818;stroke-width:1.0;" x1="264.4897" x2="306.4897" y1="591.4219" y2="591.4219"/><line style="stroke:#181818;stroke-width:1.0;" x1="306.4897" x2="306.4897" y1="591.4219" y2="604.4219"/><line style="stroke:#181818;stroke-width:1.0;" x1="265.4897" x2="306.4897" y1="604.4219" y2="604.4219"/><polygon fill="#181818" points="275.4897,600.4219,265.4897,604.4219,275.4897,608.4219,271.4897,604.4219" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="271.4897" y="586.356">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213.4082" x="293.5806" y="586.356">evaluates trust with the client_id</text><path d="M188.3389,619.4219 L252.7817,619.4219 L252.7817,626.5547 L242.7817,636.5547 L188.3389,636.5547 L188.3389,619.4219 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="132.3359" style="stroke:#000000;stroke-width:1.5;" width="1193.8037" x="188.3389" y="619.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="203.3389" y="632.4888">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="250.5293" x="267.7817" y="631.6323">[if request_uri_method is set with POST]</text><polygon fill="#181818" points="1041.9868,653.6875,1051.9868,657.6875,1041.9868,661.6875,1045.9868,657.6875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="264.4897" x2="1047.9868" y1="657.6875" y2="657.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="271.4897" y="652.6216">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="350.2446" x="293.5806" y="652.6216">provides Wallet metadata to the request_uri endpoint</text><line style="stroke:#181818;stroke-width:1.0;" x1="1063.9868" x2="1105.9868" y1="686.8203" y2="686.8203"/><line style="stroke:#181818;stroke-width:1.0;" x1="1105.9868" x2="1105.9868" y1="686.8203" y2="699.8203"/><line style="stroke:#181818;stroke-width:1.0;" x1="1064.9868" x2="1105.9868" y1="699.8203" y2="699.8203"/><polygon fill="#181818" points="1074.9868,695.8203,1064.9868,699.8203,1074.9868,703.8203,1070.9868,699.8203" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="1070.9868" y="681.7544">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="267.0649" x="1093.0776" y="681.7544">evaluates the Wallet tecnical capabilities</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="188.3389" x2="1382.1426" y1="708.8203" y2="708.8203"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="334.7104" x="193.3389" y="719.0308">[if request_uri_method is set with GET or not present]</text><polygon fill="#181818" points="1041.9868,739.7578,1051.9868,743.7578,1041.9868,747.7578,1045.9868,743.7578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="264.4897" x2="1047.9868" y1="743.7578" y2="743.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="271.4897" y="738.6919">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="426.6704" x="293.5806" y="738.6919">requests the signed request object from the request_uri endpoint</text><polygon fill="#181818" points="275.4897,775.8906,265.4897,779.8906,275.4897,783.8906,271.4897,779.8906" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="269.4897" x2="1057.9868" y1="779.8906" y2="779.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="281.4897" y="774.8247">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141.1528" x="303.5806" y="774.8247">signed request object</text><line style="stroke:#181818;stroke-width:1.0;" x1="264.4897" x2="306.4897" y1="809.0234" y2="809.0234"/><line style="stroke:#181818;stroke-width:1.0;" x1="306.4897" x2="306.4897" y1="809.0234" y2="822.0234"/><line style="stroke:#181818;stroke-width:1.0;" x1="265.4897" x2="306.4897" y1="822.0234" y2="822.0234"/><polygon fill="#181818" points="275.4897,818.0234,265.4897,822.0234,275.4897,826.0234,271.4897,822.0234" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="271.4897" y="803.9575">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="301.3613" x="293.5806" y="803.9575">evaluates Relying Party Metadata and policies</text><line style="stroke:#181818;stroke-width:1.0;" x1="264.4897" x2="306.4897" y1="851.1563" y2="851.1563"/><line style="stroke:#181818;stroke-width:1.0;" x1="306.4897" x2="306.4897" y1="851.1563" y2="864.1563"/><line style="stroke:#181818;stroke-width:1.0;" x1="265.4897" x2="306.4897" y1="864.1563" y2="864.1563"/><polygon fill="#181818" points="275.4897,860.1563,265.4897,864.1563,275.4897,868.1563,271.4897,864.1563" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="271.4897" y="846.0903">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="297.1528" x="293.5806" y="846.0903">Verify signature of the signed Request Object</text><line style="stroke:#181818;stroke-width:1.0;" x1="264.4897" x2="306.4897" y1="893.2891" y2="893.2891"/><line style="stroke:#181818;stroke-width:1.0;" x1="306.4897" x2="306.4897" y1="893.2891" y2="906.2891"/><line style="stroke:#181818;stroke-width:1.0;" x1="265.4897" x2="306.4897" y1="906.2891" y2="906.2891"/><polygon fill="#181818" points="275.4897,902.2891,265.4897,906.2891,275.4897,910.2891,271.4897,906.2891" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="271.4897" y="888.2231">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161.2622" x="293.5806" y="888.2231">Validate requested VP(s)</text><polygon fill="#181818" points="39.9551,931.4219,29.9551,935.4219,39.9551,939.4219,35.9551,935.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="33.9551" x2="253.4897" y1="935.4219" y2="935.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="45.9551" y="930.356">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130.9775" x="68.0459" y="930.356">Request for consent</text><polygon fill="#181818" points="242.4897,960.5547,252.4897,964.5547,242.4897,968.5547,246.4897,964.5547" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="23.9551" x2="248.4897" y1="964.5547" y2="964.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="30.9551" y="959.4888">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67.7168" x="53.0459" y="959.4888">Confirmed</text><polygon fill="#181818" points="1041.9868,1004.8203,1051.9868,1008.8203,1041.9868,1012.8203,1045.9868,1008.8203" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="264.4897" x2="1047.9868" y1="1008.8203" y2="1008.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="271.4897" y="996.188">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192.6196" x="293.5806" y="988.6216">POST Authorization Response</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="302.396" x="297.7129" y="1003.7544">with vp_token, state, presentation_submission</text><line style="stroke:#181818;stroke-width:1.0;" x1="1063.9868" x2="1105.9868" y1="1037.9531" y2="1037.9531"/><line style="stroke:#181818;stroke-width:1.0;" x1="1105.9868" x2="1105.9868" y1="1037.9531" y2="1050.9531"/><line style="stroke:#181818;stroke-width:1.0;" x1="1064.9868" x2="1105.9868" y1="1050.9531" y2="1050.9531"/><polygon fill="#181818" points="1074.9868,1046.9531,1064.9868,1050.9531,1074.9868,1054.9531,1070.9868,1050.9531" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="1070.9868" y="1032.8872">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="275.4883" x="1093.0776" y="1032.8872">Evaluate the Verifiable Presentation token</text><line style="stroke:#181818;stroke-width:1.0;" x1="1063.9868" x2="1105.9868" y1="1125.4844" y2="1125.4844"/><line style="stroke:#181818;stroke-width:1.0;" x1="1105.9868" x2="1105.9868" y1="1125.4844" y2="1138.4844"/><line style="stroke:#181818;stroke-width:1.0;" x1="1064.9868" x2="1105.9868" y1="1138.4844" y2="1138.4844"/><polygon fill="#181818" points="1074.9868,1134.4844,1064.9868,1138.4844,1074.9868,1142.4844,1070.9868,1138.4844" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="1070.9868" y="1097.7192">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="204.2231" x="1093.0776" y="1075.02">Validate the Wallet Attestation.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167.8638" x="1093.0776" y="1090.1528">Attest the Wallet Provider</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157.3774" x="1097.21" y="1105.2856">is part of the Federation</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="255.5947" x="1097.21" y="1120.4185">and the Wallet Instance is not revoked.</text><line style="stroke:#181818;stroke-width:1.0;" x1="1063.9868" x2="1105.9868" y1="1182.75" y2="1182.75"/><line style="stroke:#181818;stroke-width:1.0;" x1="1105.9868" x2="1105.9868" y1="1182.75" y2="1195.75"/><line style="stroke:#181818;stroke-width:1.0;" x1="1064.9868" x2="1105.9868" y1="1195.75" y2="1195.75"/><polygon fill="#181818" points="1074.9868,1191.75,1064.9868,1195.75,1074.9868,1199.75,1070.9868,1195.75" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="1070.9868" y="1170.1177">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190.9058" x="1093.0776" y="1162.5513">Attest Credential Issuer Trust</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177.8804" x="1097.21" y="1177.6841">and Validate JWT Signature</text><line style="stroke:#181818;stroke-width:1.0;" x1="1063.9868" x2="1105.9868" y1="1224.8828" y2="1224.8828"/><line style="stroke:#181818;stroke-width:1.0;" x1="1105.9868" x2="1105.9868" y1="1224.8828" y2="1237.8828"/><line style="stroke:#181818;stroke-width:1.0;" x1="1064.9868" x2="1105.9868" y1="1237.8828" y2="1237.8828"/><polygon fill="#181818" points="1074.9868,1233.8828,1064.9868,1237.8828,1074.9868,1241.8828,1070.9868,1237.8828" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="1070.9868" y="1219.8169">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144.6948" x="1093.0776" y="1219.8169">Process the credential</text><rect fill="#90EE90" height="83" style="stroke:#181818;stroke-width:0.5;" width="537" x="790" y="1250.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149.0747" x="794" y="1266.9497">Process the credential:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="330.916" x="798.1323" y="1282.0825">Check Holder Key Binding and Proof of Possession:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="447.4971" x="798.1323" y="1297.2153">- using the public key bound in the Credential to verify the VP token.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.1323" x="794" y="1312.3481"> </text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="524.9956" x="798.1323" y="1327.481">Then extract the disclosed attributes: check if all the required data are available</text><line style="stroke:#181818;stroke-width:1.0;" x1="1063.9868" x2="1105.9868" y1="1365.6797" y2="1365.6797"/><line style="stroke:#181818;stroke-width:1.0;" x1="1105.9868" x2="1105.9868" y1="1365.6797" y2="1378.6797"/><line style="stroke:#181818;stroke-width:1.0;" x1="1058.9868" x2="1105.9868" y1="1378.6797" y2="1378.6797"/><polygon fill="#181818" points="1068.9868,1374.6797,1058.9868,1378.6797,1068.9868,1382.6797,1064.9868,1378.6797" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="1070.9868" y="1360.6138">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="273.2222" x="1093.0776" y="1360.6138">Update the User session (cookie updated)</text><polygon fill="#181818" points="275.4897,1398.8125,265.4897,1402.8125,275.4897,1406.8125,271.4897,1402.8125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="269.4897" x2="1057.9868" y1="1402.8125" y2="1402.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="281.4897" y="1397.7466">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110.3857" x="303.5806" y="1397.7466">HTTP/1.1 200 OK</text><polygon fill="#181818" points="1046.9868,1427.9453,1056.9868,1431.9453,1046.9868,1435.9453,1050.9868,1431.9453" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="616.9419" x2="1052.9868" y1="1431.9453" y2="1431.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="623.9419" y="1426.8794">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="395.9541" x="646.0327" y="1426.8794">JavaScript: check authentication state at the status endpoint</text><polygon fill="#181818" points="627.9419,1472.2109,617.9419,1476.2109,627.9419,1480.2109,623.9419,1476.2109" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="621.9419" x2="1057.9868" y1="1476.2109" y2="1476.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="633.9419" y="1463.5786">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110.3857" x="656.0327" y="1456.0122">HTTP/1.1 200 OK</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="303.4497" x="660.165" y="1471.145">{"redirect_uri": https url with response_code }</text><line style="stroke:#181818;stroke-width:1.0;" x1="616.9419" x2="658.9419" y1="1505.3438" y2="1505.3438"/><line style="stroke:#181818;stroke-width:1.0;" x1="658.9419" x2="658.9419" y1="1505.3438" y2="1518.3438"/><line style="stroke:#181818;stroke-width:1.0;" x1="617.9419" x2="658.9419" y1="1518.3438" y2="1518.3438"/><polygon fill="#181818" points="627.9419,1514.3438,617.9419,1518.3438,627.9419,1522.3438,623.9419,1518.3438" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="623.9419" y="1500.2778">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="198.1421" x="646.0327" y="1500.2778">follow the redirect_uri location</text><!--SRC=[XLPTKnit57tNhxZZF3HXW2PzP8RE44A192qkEE6XT3poxhMjifQs-bZ7xVI_zqXQhsMWKuO7fBqVvvvxxXKoUAF3QiPM275MUMDfzCMn7P5q58IOcM_vuZj77xXJ5RiHlVgi5al_lWaiMcczgbGhjQVHlMmQzdIjdPUwuXHZlMyI4Ef8BbZxd44ArZKXoxxPBJSRfHSqnkKcMNOiXAoywgHd00jqz2EyJ-YUPtJ7DY8ZBJkra5uPNPXAKNFfAADdnoTqoty6Tfx6rdYkFDUuSIRO2fbEJt7D3Z1JE1elfMCwFTt51PwEjw7EBSSxIGS7ADtpmG5r4lGyw9a9gCyRsXLEbJ6FwWLtcm5DWrNukuUoimAjBN2MaVocHGv4hpcMG9Krpk6Gs40hdLnnV-m3HSgMVjLGYmYqLdv9lzwUcvhfvfQMbkT0XwALLWloIn1ccsJreAj68ULKrOSbq4DA1H_IRyNbTCL-QUhVI-PZ_thommdTBSqwnU-J9pG0Z2JLO_gGiCo2Xppt6YXtBLWBiR0cjE0lblsXBrit6x6EUTR8KqcD71IJHAM9A9pywQPbdJ8zKIt9jdtGZQbaawWc6M2beSsih24snnO3XoDl0tIKo8m11wQWsCQJcjDpRaWvSjmxZM_k9eBmizxskhMcKpL2z-3W96lfPLHIJ55A1MMrHccV8fHyn_DEFWNSNT5GZLQnqagsSgOQvHKxmGt4_l-mBoyciMVQUE1DmoBA6dhldC-fXSQ4zNTaPdz4lSwjMVrtFQbViO3CzuiXdadiUNVsTWdzl6LIOYvR0xt5YhTUNzcg-IQbaZvOg6bUmj-kZ9kSU_2IZQgB2ORbr_5hzoORXDsgcKU96vsesbzcET2vqNDbLrplxwo1qYWKEeCUZLL_vSs4dTN6YFIWSrUwTkhD8-jXCjjYaKrTcAsKStihSc-LNVIyfR8J7KhE6jvVXob1uJGGK4Zhp8FyR7yCSFbO6eopnYs0GrLn_M_P_ebndJpnBVRffJ65JrIUvGvWwkC2JPyAMxMESmjrNpiNCCcJEATzo07on_i9tMtxNKG1F3nsMRtL44e8YwpGHOTuC7xr-VhoQd9vUt7nYtZPuqJG-PAnrQvCWxBe4s_elT9rb6G40Y-KZTynbXYdri3b2BidMiHORPX1flG8n_oSgBouYWAn5heitTIsSUxGiH0qmUuY_kOjsfq-rifLZN7GgFJUAgnOTYTK9OYOUR0yJAH20ih3Wb6GdLHDr48SpCI2AEZwqWu2YFykK5yAlSwl7ONqlNv3ukd8xYRyQZ8PV__k-1tzyFOjtNmgtkgFI7vNMTNwBTJzhPorZehojE8Gt6wHz1dYs_Sa1SJmzmXLej8gRPzHV1vzwuQ7Bxx4QS2cLNoe_jc-OOWrDqtJFsDb28flHmJrBm00]--></g></svg>