<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="1515px" preserveAspectRatio="none" style="width:1484px;height:1515px;background:#FFFFFF;" version="1.1" viewBox="0 0 1484 1515" width="1484px" zoomAndPan="magnify"><defs/><g><rect fill="#ADD8E6" height="1503.9766" style="stroke:#181818;stroke-width:0.5;" width="436.3169" x="95.9102" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="138.0107" x="245.0632" y="18.0669">User's smartphone</text><rect fill="#FFFFFF" fill-opacity="0.00000" height="98.2031" style="stroke:#000000;stroke-width:1.5;" width="1336.1885" x="9" y="553.9531"/><rect fill="#FFFFFF" fill-opacity="0.00000" height="329.2656" style="stroke:#000000;stroke-width:1.5;" width="1419.8994" x="9" y="1129.4141"/><g><title>User</title><rect fill="#FFFFFF" fill-opacity="0.00000" height="1419.25" width="8" x="62.9551" y="56.4297"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="66" x2="66" y1="56.4297" y2="1475.6797"/></g><g><title>Browser</title><rect fill="#FFFFFF" fill-opacity="0.00000" height="1419.25" width="8" x="131.4297" y="56.4297"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="134.9102" x2="134.9102" y1="56.4297" y2="1475.6797"/></g><g><title>Wallet Instance</title><rect fill="#FFFFFF" fill-opacity="0.00000" height="1419.25" width="8" x="463.0762" y="56.4297"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="466.9253" x2="466.9253" y1="56.4297" y2="1475.6797"/></g><g><title>PID/(Q)EAA Provider</title><rect fill="#FFFFFF" fill-opacity="0.00000" height="1419.25" width="8" x="1283.8604" y="56.4297"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1287.5322" x2="1287.5322" y1="56.4297" y2="1475.6797"/></g><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="45.9102" x="44" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.9102" x="51" y="45.1279">User</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="45.9102" x="44" y="1474.6797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.9102" x="51" y="1494.6748">User</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="71.0391" x="99.9102" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57.0391" x="106.9102" y="45.1279">Browser</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="71.0391" x="99.9102" y="1474.6797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57.0391" x="106.9102" y="1494.6748">Browser</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="122.3018" x="405.9253" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108.3018" x="412.9253" y="45.1279">Wallet Instance</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="122.3018" x="405.9253" y="1474.6797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108.3018" x="412.9253" y="1494.6748">Wallet Instance</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="154.6563" x="1210.5322" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140.6563" x="1217.5322" y="45.1279">PID/(Q)EAA Provider</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="154.6563" x="1210.5322" y="1474.6797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140.6563" x="1217.5322" y="1494.6748">PID/(Q)EAA Provider</text><polygon fill="#181818" points="77.9551,83.5625,67.9551,87.5625,77.9551,91.5625,73.9551,87.5625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="71.9551" x2="466.0762" y1="87.5625" y2="87.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="83.9551" y="82.4966">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192.1055" x="97.0005" y="82.4966">obtain your Digital Credential</text><polygon fill="#181818" points="455.0762,112.6953,465.0762,116.6953,455.0762,120.6953,459.0762,116.6953" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="66.9551" x2="461.0762" y1="116.6953" y2="116.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="73.9551" y="111.6294">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="22.4644" x="87.0005" y="111.6294">yes</text><rect fill="#FFFFFF" height="23" style="stroke:#181818;stroke-width:0.5;" width="337" x="298" y="129.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="329.5132" x="302" y="145.7622">Obtain the list of the Trusted PID/(Q)EAA Providers</text><polygon fill="#181818" points="77.9551,174.9609,67.9551,178.9609,77.9551,182.9609,73.9551,178.9609" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="71.9551" x2="466.0762" y1="178.9609" y2="178.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="83.9551" y="173.895">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="288.9707" x="97.0005" y="173.895">confirm the selection of PID/(Q)EAA Provider</text><polygon fill="#181818" points="455.0762,204.0938,465.0762,208.0938,455.0762,212.0938,459.0762,208.0938" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="66.9551" x2="461.0762" y1="208.0938" y2="208.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="73.9551" y="203.0278">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="15.4819" x="87.0005" y="203.0278">ok</text><rect fill="#90EE90" height="23" style="stroke:#181818;stroke-width:0.5;" width="954" x="400" y="221.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="496.8374" x="628.7129" y="237.1606">Check PID/(Q)EAA Provider is part of the Federation and obtain its metadata</text><line style="stroke:#181818;stroke-width:1;" x1="467.0762" x2="509.0762" y1="270.3594" y2="270.3594"/><line style="stroke:#181818;stroke-width:1;" x1="509.0762" x2="509.0762" y1="270.3594" y2="283.3594"/><line style="stroke:#181818;stroke-width:1;" x1="468.0762" x2="509.0762" y1="283.3594" y2="283.3594"/><polygon fill="#181818" points="478.0762,279.3594,468.0762,283.3594,478.0762,287.3594,474.0762,283.3594" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="474.0762" y="265.2935">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="251.7607" x="487.1216" y="265.2935">create PKCE code verifier and WIA-PoP</text><polygon fill="#181818" points="1275.8604,399.2891,1285.8604,403.2891,1275.8604,407.2891,1279.8604,403.2891" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="467.0762" x2="1281.8604" y1="403.2891" y2="403.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="474.0762" y="352.8247">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92.4917" x="487.1216" y="307.4263">PAR Request (</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99.0044" x="495.3862" y="322.5591">response_type,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58.2017" x="495.3862" y="337.6919">client_id,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105.0474" x="495.3862" y="352.8247">code_challenge,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161.751" x="495.3862" y="367.9575">code_challenge_method,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54.7739" x="495.3862" y="383.0903">request)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="504.7593" x="491.2539" y="398.2231">with OAuth-Client-Attestation and OAuth-Client-Attestation-PoP in the Header</text><rect fill="#90EE90" height="38" style="stroke:#181818;stroke-width:0.5;" width="381" x="1097" y="416.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="304.9414" x="1101" y="432.356">Check Wallet Provider is part of the Federation</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="368.875" x="1101" y="447.4888">Check signature of the Wallet Attestation and its validity</text><polygon fill="#181818" points="478.0762,476.6875,468.0762,480.6875,478.0762,484.6875,474.0762,480.6875" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="472.0762" x2="1286.8604" y1="480.6875" y2="480.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="484.0762" y="475.6216">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="254.8774" x="497.1216" y="475.6216">PAR Response (request_uri, expires_in)</text><polygon fill="#181818" points="146.4297,505.8203,136.4297,509.8203,146.4297,513.8203,142.4297,509.8203" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="140.4297" x2="466.0762" y1="509.8203" y2="509.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="152.4297" y="504.7544">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="294.6011" x="165.4751" y="504.7544">Authorization Request (client_id, request_uri)</text><polygon fill="#181818" points="1275.8604,534.9531,1285.8604,538.9531,1275.8604,542.9531,1279.8604,538.9531" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="135.4297" x2="1281.8604" y1="538.9531" y2="538.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="142.4297" y="533.8872">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="294.6011" x="155.4751" y="533.8872">Authorization Request (client_id, request_uri)</text><path d="M9,553.9531 L73.4429,553.9531 L73.4429,561.0859 L63.4429,571.0859 L9,571.0859 L9,553.9531 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="#FFFFFF" fill-opacity="0.00000" height="98.2031" style="stroke:#000000;stroke-width:1.5;" width="1336.1885" x="9" y="553.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="24" y="567.02">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="121.7788" x="88.4429" y="566.1636">[Credential == PID]</text><rect fill="#FFFFFF" height="23" style="stroke:#181818;stroke-width:0.5;" width="1316" x="19" y="576.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="459.4878" x="447.3503" y="592.1528">user authentication with national eIDAS notified Schemes and consent</text><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="9" x2="1345.1885" y1="605.2188" y2="605.2188"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="149.4668" x="14" y="615.4292">[Credential == (Q)EAA)]</text><rect fill="#FFFFFF" height="23" style="stroke:#181818;stroke-width:0.5;" width="1316" x="19" y="624.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="268.6899" x="542.7493" y="640.0903">user authentication with PID and consent</text><polygon fill="#181818" points="146.4297,676.2891,136.4297,680.2891,146.4297,684.2891,142.4297,680.2891" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="140.4297" x2="1286.8604" y1="680.2891" y2="680.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="152.4297" y="675.2231">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="266.4683" x="174.5205" y="675.2231">Authorization Response (code, state, iss)</text><polygon fill="#181818" points="455.0762,705.4219,465.0762,709.4219,455.0762,713.4219,459.0762,709.4219" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="135.4297" x2="461.0762" y1="709.4219" y2="709.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="142.4297" y="704.356">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="266.4683" x="164.5205" y="704.356">Authorization Response (code, state, iss)</text><line style="stroke:#181818;stroke-width:1;" x1="467.0762" x2="509.0762" y1="738.5547" y2="738.5547"/><line style="stroke:#181818;stroke-width:1;" x1="509.0762" x2="509.0762" y1="738.5547" y2="751.5547"/><line style="stroke:#181818;stroke-width:1;" x1="468.0762" x2="509.0762" y1="751.5547" y2="751.5547"/><polygon fill="#181818" points="478.0762,747.5547,468.0762,751.5547,478.0762,755.5547,474.0762,751.5547" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="474.0762" y="733.4888">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124.0205" x="496.167" y="733.4888">generate DPoP key</text><line style="stroke:#181818;stroke-width:1;" x1="467.0762" x2="509.0762" y1="780.6875" y2="780.6875"/><line style="stroke:#181818;stroke-width:1;" x1="509.0762" x2="509.0762" y1="780.6875" y2="793.6875"/><line style="stroke:#181818;stroke-width:1;" x1="468.0762" x2="509.0762" y1="793.6875" y2="793.6875"/><polygon fill="#181818" points="478.0762,789.6875,468.0762,793.6875,478.0762,797.6875,474.0762,793.6875" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="474.0762" y="775.6216">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="480.981" x="496.167" y="775.6216">generate DPoP proof and WIA-PoP for PID/(Q)EAA Provider token endpoint</text><polygon fill="#181818" points="1275.8604,909.6172,1285.8604,913.6172,1275.8604,917.6172,1279.8604,913.6172" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="467.0762" x2="1281.8604" y1="913.6172" y2="913.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="474.0762" y="863.1528">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="214.0874" x="496.167" y="817.7544">Token Request with DPoP proof (</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58.2017" x="504.4316" y="832.8872">client_id,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74.5723" x="504.4316" y="848.02">grant_type,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35.4834" x="504.4316" y="863.1528">code,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88.1626" x="504.4316" y="878.2856">code_verifier,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79.5615" x="500.2993" y="893.4185">redirect_uri)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="504.7593" x="500.2993" y="908.5513">with OAuth-Client-Attestation and OAuth-Client-Attestation-PoP in the Header</text><polygon fill="#181818" points="478.0762,938.75,468.0762,942.75,478.0762,946.75,474.0762,942.75" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="472.0762" x2="1286.8604" y1="942.75" y2="942.75"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="484.0762" y="937.6841">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="363.1177" x="506.167" y="937.6841">Token Response (access_token, token_type, expires_in)</text><polygon fill="#181818" points="1275.8604,967.8828,1285.8604,971.8828,1275.8604,975.8828,1279.8604,971.8828" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="467.0762" x2="1281.8604" y1="971.8828" y2="971.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="474.0762" y="966.8169">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222.7012" x="496.167" y="966.8169">Nonce Request HTTP POST /nonce</text><polygon fill="#181818" points="478.0762,997.0156,468.0762,1001.0156,478.0762,1005.0156,474.0762,1001.0156" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="472.0762" x2="1286.8604" y1="1001.0156" y2="1001.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="484.0762" y="995.9497">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175.7158" x="506.167" y="995.9497">Nonce Response (c_nonce)</text><line style="stroke:#181818;stroke-width:1;" x1="467.0762" x2="509.0762" y1="1030.1484" y2="1030.1484"/><line style="stroke:#181818;stroke-width:1;" x1="509.0762" x2="509.0762" y1="1030.1484" y2="1043.1484"/><line style="stroke:#181818;stroke-width:1;" x1="468.0762" x2="509.0762" y1="1043.1484" y2="1043.1484"/><polygon fill="#181818" points="478.0762,1039.1484,468.0762,1043.1484,478.0762,1047.1484,474.0762,1043.1484" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="474.0762" y="1025.0825">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="239.1606" x="496.167" y="1025.0825">create proof of possession (c_nonce)</text><line style="stroke:#181818;stroke-width:1;" x1="467.0762" x2="509.0762" y1="1072.2813" y2="1072.2813"/><line style="stroke:#181818;stroke-width:1;" x1="509.0762" x2="509.0762" y1="1072.2813" y2="1085.2813"/><line style="stroke:#181818;stroke-width:1;" x1="468.0762" x2="509.0762" y1="1085.2813" y2="1085.2813"/><polygon fill="#181818" points="478.0762,1081.2813,468.0762,1085.2813,478.0762,1089.2813,474.0762,1085.2813" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="474.0762" y="1067.2153">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="405.4629" x="496.167" y="1067.2153">create DPoP proof for PID/(Q)EAA Provider credential endpoint</text><polygon fill="#181818" points="1275.8604,1110.4141,1285.8604,1114.4141,1275.8604,1118.4141,1279.8604,1114.4141" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="467.0762" x2="1281.8604" y1="1114.4141" y2="1114.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="474.0762" y="1109.3481">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="774.6934" x="496.167" y="1109.3481">Credential Request with DPoP access_token and DPoP proof (credential_identifier or credential_configuration_id, proof)</text><path d="M9,1129.4141 L73.4429,1129.4141 L73.4429,1136.5469 L63.4429,1146.5469 L9,1146.5469 L9,1129.4141 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="#FFFFFF" fill-opacity="0.00000" height="329.2656" style="stroke:#000000;stroke-width:1.5;" width="1419.8994" x="9" y="1129.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="24" y="1142.481">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="148.4624" x="88.4429" y="1141.6245">[Credential is available]</text><polygon fill="#181818" points="478.0762,1163.6797,468.0762,1167.6797,478.0762,1171.6797,474.0762,1167.6797" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="472.0762" x2="1286.8604" y1="1167.6797" y2="1167.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="484.0762" y="1162.6138">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="320.3979" x="506.167" y="1162.6138">Credential Response (credentials, notification_id)</text><line style="stroke:#181818;stroke-width:1;" x1="467.0762" x2="509.0762" y1="1196.8125" y2="1196.8125"/><line style="stroke:#181818;stroke-width:1;" x1="509.0762" x2="509.0762" y1="1196.8125" y2="1209.8125"/><line style="stroke:#181818;stroke-width:1;" x1="468.0762" x2="509.0762" y1="1209.8125" y2="1209.8125"/><polygon fill="#181818" points="478.0762,1205.8125,468.0762,1209.8125,478.0762,1213.8125,474.0762,1209.8125" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="474.0762" y="1191.7466">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="238.9702" x="496.167" y="1191.7466">PID/(Q)EAA validity and status check</text><line style="stroke:#181818;stroke-width:1;" x1="467.0762" x2="509.0762" y1="1238.9453" y2="1238.9453"/><line style="stroke:#181818;stroke-width:1;" x1="509.0762" x2="509.0762" y1="1238.9453" y2="1251.9453"/><line style="stroke:#181818;stroke-width:1;" x1="468.0762" x2="509.0762" y1="1251.9453" y2="1251.9453"/><polygon fill="#181818" points="478.0762,1247.9453,468.0762,1251.9453,478.0762,1255.9453,474.0762,1251.9453" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="474.0762" y="1233.8794">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102.5654" x="496.167" y="1233.8794">store credential</text><polygon fill="#181818" points="1275.8604,1292.2109,1285.8604,1296.2109,1275.8604,1300.2109,1279.8604,1296.2109" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="467.0762" x2="1281.8604" y1="1296.2109" y2="1296.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="474.0762" y="1283.5786">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="440.7939" x="496.167" y="1276.0122">Notification Request HTTP POST /notification (notification_id, event)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158.0122" x="500.2993" y="1291.145">with DPoP Access Token</text><rect fill="#ADD8E6" height="38" style="stroke:#181818;stroke-width:0.5;" width="263" x="1155" y="1309.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="219.2544" x="1159" y="1325.2778">Register all the credential-related</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="247.6348" x="1159" y="1340.4106">information for verification/revocation</text><polygon fill="#181818" points="478.0762,1369.6094,468.0762,1373.6094,478.0762,1377.6094,474.0762,1373.6094" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="472.0762" x2="1286.8604" y1="1373.6094" y2="1373.6094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="484.0762" y="1368.5435">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="285.9619" x="506.167" y="1368.5435">Notification Response HTTP 204 No Content</text><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="9" x2="1428.8994" y1="1382.6094" y2="1382.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="178.3525" x="14" y="1392.8198">[Credential is NOT available]</text><polygon fill="#181818" points="478.0762,1413.5469,468.0762,1417.5469,478.0762,1421.5469,474.0762,1417.5469" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="472.0762" x2="1286.8604" y1="1417.5469" y2="1417.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="484.0762" y="1412.481">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="312.3872" x="506.167" y="1412.481">Credential Response (lead_time, transaction_id)</text><rect fill="#FEFFDD" height="23" style="stroke:#181818;stroke-width:0.5;" width="1316" x="19" y="1430.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="796.4595" x="278.8645" y="1446.6138">The Wallet Instance, after an amount of time specified by lead_time and when triggered by the User, starts the flow again</text><!--SRC=[hLPTRoet47tthnZbFXGaKAggJv7kbGYXDwXN2KsuoakbbTaT5YkBJVt1NlhhExRtmnk8saX5I2psUERCEJFZvSugwVORr8mTkBOY5mSkBLnzDwYlW1jmZ6tKZxZmam6p9wl3JacyWa_VHBcpjvN3uTbRhUhkE1_klV2gGWjBQIoNEGQRcg4iWAAymR1QtbsF_XWlPZDOQNKKHUDJCFhKCFq2xWRKnd8XuQISXZjH2iihc6iiK5h1A-PWIdRr3PpGCAQbiWZgY1fg-FHolrmls6DqO7S8bJ0Mr3OyhxKp5Wku0C9ulC4LmPX-8H2vabkXz-6WmGfpAvJqdYwSPimH94AaNeU09e8ONNwzNtzzMYmUs7o7-Uib1o0CU9vQfBzHifg7Y9nuR0WHri0UBI-uvIbUJriD15aZfz2ht-SBWbyW40Qn5UJUEtbPpgOhjMhi1TclPa_mX7yv98f6Vqe0ZUQWfC7CdWuuyIjv9OZrJ1Jn7pdDyftNMvPuOIaZU3iLZNNqF0RwKmkxWyUPixlfF7YSpgobpJx5zpOzP6Yql4VkoKu8laHlKux_WThcW16bvDPfR4qQ3syXUlgFl1A5i2T8-6SY5cJ7Q2GHHWq3cTDY0lZZ88ZVJCXnB7LVw_m6VDvAYxzZd4wEddX8t8oPu-6a-F11nYkRT15y_kmBSK3cnBKDv8ml6WhWZVCO8MWempCTn-NTx1dei2-m0fxp7UxH19vodxsqFKDO4Hl3qB7-nnyDJuZV2I6BLWTYw9oSLX9VhXFmgjAFCAOZjFxGeRxdIfI-d13kVA6-ukdTlODML5z99y9MwOl3mAfNb40f7PIW99EENOUTLkj0IU9xTDwnfQQncxIppwHhstOy-1LIXyepZyNolxUiboPoqcRGSilp78t9GigJc7c4EsoOZe47HLTCny3zUhs2rUFp6gwbtqW2jOQTY5cm69_FoqWUVG_A60BZynkOlx5F67zFmRmlzbx6BeUa5SwbJ0a9DAS2ztv9OFyGfhjA0sRXuYfTd75X3eJ3vnE01YC_Sb7nJON04ke6-3h-kaKpQVe-RqEaf2PqTCFIf-6Bmnd8_SXDp8rLD7XxvmEf-o2N5K_sHsyWKVqSoMDVoe76MI0t5Y6xT97SVlk-O4zOqbk37q5L5QguXpVLM77_3i649F7tCRWlWzXCCVwrngDgWAKtHLASWzGQZaDkl_pyAst3N4dh9zpPy2JL7XxNlNB_8bj53PXPiQU6iZGB3CyxpPBqtKImTN_pjQzo4-3Rm0DLubuv6IzHSWRcW7cS_9iJT362q3LDROeboX9rtFSK-dVDC4CrtQ9-OLkf6dX9xpM3AVuF]--></g></svg>